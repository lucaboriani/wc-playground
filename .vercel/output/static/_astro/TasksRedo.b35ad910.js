import{r as f}from"./index.ed373d49.js";import{u as i,b as h,t as p,i as c,p as j,s as k,a as T,d as g}from"./taskStore.8054f56a.js";import{F as b,T as d}from"./Form.3c0c4c84.js";import{j as s}from"./jsx-runtime.391947bd.js";import"./axios.4a70c6fc.js";function O({tasks:l}){const t=i(p),o=i(c);f.useEffect(()=>{Object.keys(t).length===0&&h(l)},[t]);const x=({currentTarget:e})=>{e.value===""?c.set({task:""}):c.set({...t[o._id],task:e.value})},u=async e=>{try{await j(e)}catch(a){console.log(a)}},r=e=>k(e),n=async e=>{try{await T({_id:e,completed:t[e].completed})}catch(a){console.log(a)}},m=async e=>{try{await g(e)}catch(a){console.log(a)}};return s.jsxs("div",{className:"flex flex-col w-full  justify-center bg-black  rounded-xl",children:[s.jsx("h1",{className:"text-3xl text-slate-100 m-2",children:"Yess, another TodoList :( "}),s.jsxs("div",{className:"flex flex-col w-full items-center  p-2 rounded-xl box-border mb-5",children:[s.jsx(b,{task:o,addTask:u,handleChange:x}),Object.keys(t).length<l.length?l.map(e=>s.jsx(d,{task:e,updateTask:n,editTask:r,deleteTask:m},e._id)):Object.values(t).map(e=>s.jsx(d,{task:e,updateTask:n,editTask:r,deleteTask:m},e._id)),Object.values(t).length===0&&l.length===0&&s.jsx("h2",{className:"flex items-center justify-center capitalize rounded-xl bg-slate-300 text-slate-800 text-2xl h-16",children:"No tasks"})]})]})}export{O as default};
